\chapter{Complete Feature List}
\label{ch:features}

\section{User Authentication \& Authorization}
\label{sec:auth-features}

\textbf{Workflow:}
\begin{enumerate}[leftmargin=*,topsep=3pt,itemsep=2pt]
    \item User visits login page and chooses authentication method (Email/Password or OAuth)
    \item For OAuth: Redirects to provider (Google/GitHub), returns with authentication token
    \item Backend validates credentials, generates JWT token with RS256 encryption
    \item Session stored in database with 30-day expiry, user redirected to dashboard
\end{enumerate}

\textbf{Database Tables:} \texttt{User}, \texttt{Account}, \texttt{Session}, \texttt{VerificationToken}

\begin{figure}[H]
\centering
\includegraphics[width=0.7\textwidth]{images/screenshots/sign_in.png}
\caption{Authentication Interface}
\label{fig:auth}
\end{figure}

\subsection{Paper Upload \& Management}

\textbf{Workflow:}
\begin{enumerate}[leftmargin=*,topsep=3pt,itemsep=2pt]
    \item User drags PDF/DOCX file to upload area (max 25MB)
    \item Frontend generates presigned S3 URL, uploads directly to AWS S3
    \item Backend extracts metadata (title, authors, abstract) using PDF parser
    \item Text chunked into segments for AI processing, stored in \texttt{PaperChunk}
    \item Paper listed in user's workspace with searchable metadata
\end{enumerate}

\textbf{Database Tables:} \texttt{Paper}, \texttt{PaperFile}, \texttt{PaperChunk}

\begin{figure}[H]
\centering
\includegraphics[width=0.75\textwidth]{images/screenshots/paper_upload.png}
\caption{Paper Upload Interface}
\label{fig:upload}
\end{figure}

\subsection{Advanced Search \& Filtering}

\textbf{Workflow:}
\begin{enumerate}[leftmargin=*,topsep=3pt,itemsep=2pt]
    \item User enters search query with optional filters (date range, author, type)
    \item Backend performs PostgreSQL full-text search using ILIKE operator
    \item Results ranked by relevance, paginated (20 per page)
    \item Metadata highlighted in results for quick identification
\end{enumerate}

\textbf{SQL Query:}
\begin{lstlisting}[language=SQL,basicstyle=\tiny\ttfamily]
SELECT p.id, p.title, p.abstract, p."createdAt"
FROM "Paper" p
WHERE p."workspaceId" = $1 AND p."isDeleted" = false
  AND (p.title ILIKE $2 OR p.abstract ILIKE $2)
ORDER BY p."createdAt" DESC LIMIT 20;
\end{lstlisting}

\begin{figure}[H]
\centering
\includegraphics[width=0.8\textwidth]{images/screenshots/advanced_search.png}
\caption{Advanced Search Interface}
\label{fig:search}
\end{figure}

\subsection{Collection Management}

\textbf{Workflow:}
\begin{enumerate}[leftmargin=*,topsep=3pt,itemsep=2pt]
    \item User creates collection with name, description, privacy settings
    \item Papers added to collection via multi-select interface
    \item Collections shared with team members with role-based permissions (VIEW/EDIT)
    \item Members can view, add papers, or modify based on their role
\end{enumerate}

\textbf{Database Tables:} \texttt{Collection}, \texttt{CollectionPaper}, \texttt{CollectionMember}

\begin{figure}[H]
\centering
\includegraphics[width=0.75\textwidth]{images/screenshots/collection_details.png}
\caption{Collection Management}
\label{fig:collection}
\end{figure}

\subsection{AI-Powered Summarization \& Chat}

\textbf{Workflow:}
\begin{enumerate}[leftmargin=*,topsep=3pt,itemsep=2pt]
    \item User clicks "Generate Summary" on paper details page
    \item Backend retrieves paper chunks, sends to Gemini AI API
    \item AI generates concise summary highlighting key findings
    \item Summary cached in \texttt{AISummary} table for future access
    \item User can chat with paper, ask questions about content
\end{enumerate}

\textbf{Database Tables:} \texttt{AISummary}, \texttt{AIInsightThread}, \texttt{AIInsightMessage}

\begin{figure}[H]
\centering
\includegraphics[width=0.8\textwidth]{images/screenshots/ai_insights.png}
\caption{AI Summary and Chat Interface}
\label{fig:ai}
\end{figure}

\subsection{Workspace Collaboration}

\textbf{Workflow:}
\begin{enumerate}[leftmargin=*,topsep=3pt,itemsep=2pt]
    \item Team lead creates workspace, invites members via email
    \item Invited users receive notification, accept invitation
    \item Members assigned roles: RESEARCHER, PRO\_RESEARCHER, TEAM\_LEAD, or OWNER
    \item Role determines permissions for paper upload, collection creation, member management
\end{enumerate}

\textbf{Database Tables:} \texttt{Workspace}, \texttt{WorkspaceMember}, \texttt{WorkspaceInvitation}

\begin{figure}[H]
\centering
\includegraphics[width=0.75\textwidth]{images/screenshots/shared_workspace.png}
\caption{Workspace Collaboration Interface}
\label{fig:workspace}
\end{figure}

\subsection{Subscription \& Billing}

\textbf{Workflow:}
\begin{enumerate}[leftmargin=*,topsep=3pt,itemsep=2pt]
    \item User selects subscription plan (FREE, PRO, or INSTITUTIONAL)
    \item Redirected to Stripe Checkout for payment processing
    \item Stripe webhook confirms payment, updates user subscription status
    \item Subscription tracked in \texttt{Subscription} and \texttt{Payment} tables
    \item Users can manage subscription via Stripe Customer Portal
\end{enumerate}

\textbf{Database Tables:} \texttt{Subscription}, \texttt{Payment}, \texttt{UsageEvent}

\begin{figure}[H]
\centering
\includegraphics[width=0.7\textwidth]{images/screenshots/billing_plan.png}
\caption{Subscription Plans}
\label{fig:billing}
\end{figure}

\subsection{Admin Dashboard \& Analytics}

\textbf{Workflow:}
\begin{enumerate}[leftmargin=*,topsep=3pt,itemsep=2pt]
    \item Admin users access dashboard at \texttt{/admin} route
    \item Dashboard displays system metrics: total users, papers, active sessions
    \item Real-time health monitoring shows CPU, memory, database, storage status
    \item User management allows role changes, account suspension
    \item Analytics charts show user growth, paper uploads, revenue trends
\end{enumerate}

\textbf{Database Tables:} \texttt{User}, \texttt{Paper}, \texttt{Payment}, \texttt{ActivityLog}

\begin{figure}[H]
\centering
\includegraphics[width=0.85\textwidth]{images/screenshots/admin_overview.png}
\caption{Admin Dashboard}
\label{fig:admin}
\end{figure}
